# 让弹幕更平滑
# 与补帧插件冲突，启用补帧插件就不用加这个
# 注意这行尽量放配置文件的前面，最好放第一个
vf = lavfi="fps=fps=60:round=down"

# <gpu/gpu-next/libmpv> 视频输出驱动。
vo = gpu-next

# <opengl/vulkan/d3d11> [SVP 补帧时推荐设置为 d3d11] 选择图形绘制接口
gpu-api = d3d11

# 跳转时丢帧，关闭利于修正音频延迟    # SVP 补帧时推荐设置为 no
hr-seek-framedrop = no

# [第三方 osc 脚本使用的前置条件] 禁用原 OSC（即内置的"osc.lua"脚本）以兼容第三方的界面样式
osc = no

# uosc provides seeking & volume indicators (via flash-timeline and flash-volume commands)
# if you decide to use them, you don't need osd-bar
osd-bar = no

# uosc will draw its own window controls and border if you disable window border
# 默认为系统原生窗口界面，启用此项使用无边框界面（去除 Windows 的窗口装饰）
# border = no

# 控制是否使用窗口标题栏播放，默认启用。与 --no-border 不同，--no-title-bar 可以保留 Windows 原生窗口特性
title-bar = no

# 窗口置顶
ontop

# 自定义窗口上显示的标题内容，也会影响部分脚本的 title 属性。默认值：${?media-title:${media-title}}${!media-title:No file}
title = ${?pause==yes:⏸}${?mute==yes:🔇}${?ontop==yes:📌}${?demuxer-via-network==yes:${media-title}}${?demuxer-via-network==no:${filename}}

# <default|donotround|round|roundsmall> 控制窗口圆角的首选项。default: 让系统决定是否圆角; donotround: 禁用圆角；round: 启用圆角；roundsmall: 启用半径较小的圆角
# window-corners=roundsmall

# 禁用 mpv 内置键位及外部加载脚本的--mp.add_key_binding 键位绑定方案
input-default-bindings = no

# <no|absolute|default|yes|always> 选择何时使用不限于关键帧的精确跳转。此类跳转需要将视频从前一个关键帧解码到目标位置，因此可能需要一些时间，具体取决于解码性能
hr-seek = yes

# 重新采样音频以匹配视频（补帧时推荐关闭）
# video-sync = display-resample

# input-event 推荐设置：以毫秒为单位识别连续两次按下按钮为双击的时间（默认值：300）
input-doubleclick-time = 200

# 播放器启动时音量
volume = 50

# 设置字幕语言，同时也是 uosc 界面语言
slang = zh-hans

# <[W[xH]][+-x+-y][/WS]>, <x:y> 启动时的具体窗口尺寸（此时具有冻结窗口尺寸的功能）和/或位置（从边角计算到最近的画面边角）
# 若与视频比例不同，自动填充黑边。即使拉伸，也尽可能保持设定比例。使用此项后 --autofit 系列和 --window-scale 参数将无效
# geometry = 50%

# <[W[xH]]> 初始窗口大小及窗口下文件播放时缩放的目标大小（百分比或像素数），默认：60%
# autofit = 50%
# <[W[xH]]> 窗口模式下最大占屏幕的百分比（例如在 FHD 屏上打开 4k 视频初始窗口过大）
autofit-larger = 50%
# <[W[xH]]> 窗口模式下最小占屏幕的百分比（例如在 4k 屏上打开 480p 视频初始窗口过小）
# autofit-smaller = 40%

#######################
# 配置预设 —— 写在最后 #
#######################

[minimized]
profile-desc = 最小化时暂停
profile-cond = window_minimized and vid and not get("current-tracks/video/albumart")
profile-restore = copy-equal
pause

[pause]
profile-desc = 暂停时取消置顶
profile-cond = pause
profile-restore = copy
ontop = no

[end]
profile-desc = 播放列表结束后退出全屏
profile-cond = idle_active
no-fullscreen
no-window-maximized

[media-title]
profile-desc = 特殊协议下切换窗口标题显示内容
profile-cond = path:find('://') ~= nil or path:find('^magnet:') ~= nil
#profile-cond=demuxer_via_network == true
profile-restore = copy
title = ${?pause==yes:⏸}${?mute==yes:🔇}${?ontop==yes:📌}${media-title}
